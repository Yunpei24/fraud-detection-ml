# ==============================================================================
# API MODULE - Docker Environment Variables
# ==============================================================================
# This file contains ALL environment variables used by the API container
# These values are passed via docker-compose.yml environment: section
# ==============================================================================

# ------------------------------------------------------------------------------
# DATABASE (PostgreSQL) - Internal Docker networking
# ------------------------------------------------------------------------------
POSTGRES_HOST=postgres                    # Docker service name
POSTGRES_PORT=5432
POSTGRES_DB=fraud_detection
POSTGRES_USER=fraud_user
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}    # From root .env

# ------------------------------------------------------------------------------
# CACHE (Redis) - Internal Docker networking
# ------------------------------------------------------------------------------
REDIS_HOST=redis                          # Docker service name
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}          # From root .env

# ------------------------------------------------------------------------------
# MLFLOW - Internal Docker networking
# ------------------------------------------------------------------------------
MLFLOW_TRACKING_URI=http://mlflow:5000    # Docker service name + internal port
MODEL_NAME=fraud_detection_xgboost
MODEL_STAGE=Production

# ------------------------------------------------------------------------------
# API SERVER
# ------------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000
LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# MONITORING - Prometheus metrics
# ------------------------------------------------------------------------------
PROMETHEUS_PORT=9090                      # Exposed on host as 9090

# ------------------------------------------------------------------------------
# CORS - Must be JSON array format
# ------------------------------------------------------------------------------
CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# ------------------------------------------------------------------------------
# AZURE (Optional) - For production cloud storage
# ------------------------------------------------------------------------------
AZURE_STORAGE_CONNECTION_STRING=${AZURE_STORAGE_CONNECTION_STRING}
AZURE_STORAGE_CONTAINER_NAME=fraud-models

# ------------------------------------------------------------------------------
# APPLICATION
# ------------------------------------------------------------------------------
ENVIRONMENT=development
DEBUG=false

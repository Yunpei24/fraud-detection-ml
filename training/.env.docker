# ==============================================================================
# TRAINING MODULE - Docker Environment Variables
# ==============================================================================
# This file documents ALL environment variables used by the Training container
# ==============================================================================

# ------------------------------------------------------------------------------
# DATABASE (PostgreSQL)
# ------------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=fraud_detection
POSTGRES_USER=fraud_user
POSTGRES_PASSWORD=${POSTGRES_PASSWORD}

# ------------------------------------------------------------------------------
# CACHE (Redis)
# ------------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}

# ------------------------------------------------------------------------------
# MLFLOW
# ------------------------------------------------------------------------------
MLFLOW_TRACKING_URI=http://mlflow:5000
MLFLOW_EXPERIMENT_NAME=fraud_detection
MODEL_REGISTRY_NAME=fraud_detection_xgboost

# ------------------------------------------------------------------------------
# MONITORING
# ------------------------------------------------------------------------------
PROMETHEUS_PORT=9093                      # Training metrics port
LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# TRAINING CONFIGURATION
# ------------------------------------------------------------------------------
TRAIN_DATA_PATH=/data/train.csv
TEST_DATA_PATH=/data/test.csv
MODEL_OUTPUT_DIR=/models
CHECKPOINT_DIR=/checkpoints

# XGBoost hyperparameters
XGBOOST_MAX_DEPTH=6
XGBOOST_N_ESTIMATORS=100
XGBOOST_LEARNING_RATE=0.1
XGBOOST_OBJECTIVE=binary:logistic

# Training parameters
BATCH_SIZE=1024
EPOCHS=10
VALIDATION_SPLIT=0.2
EARLY_STOPPING_PATIENCE=5

# Cross-validation
CV_FOLDS=5
CV_STRATEGY=stratified

# ------------------------------------------------------------------------------
# FEATURE ENGINEERING
# ------------------------------------------------------------------------------
ENABLE_FEATURE_SELECTION=true
FEATURE_IMPORTANCE_THRESHOLD=0.01
ENABLE_SCALING=true
SCALER_TYPE=standard

# ------------------------------------------------------------------------------
# MODEL EVALUATION
# ------------------------------------------------------------------------------
EVAL_METRICS=precision,recall,f1,auc,accuracy
EVAL_THRESHOLD=0.5

# ------------------------------------------------------------------------------
# AZURE (Optional)
# ------------------------------------------------------------------------------
AZURE_STORAGE_CONNECTION_STRING=${AZURE_STORAGE_CONNECTION_STRING}
AZURE_STORAGE_CONTAINER_NAME=fraud-models

# ------------------------------------------------------------------------------
# APPLICATION
# ------------------------------------------------------------------------------
ENVIRONMENT=development
